extends layout

block content
  h1= title
  - var items = results
  button.btn( class="btn-primary ml-1", onclick= "goToCreate()") Go to create page
  div(class="container-fluid")
     div(class="row m-1")
     each van in items
      - let destination = `dispatch(\"/vans/update?id=${van._id}\")`
      - let destinationDelete = `dispatch(\"/vans/delete?id=${van._id}\")`
      - let destinationDetail = `dispatch(\"/vans/detail?id=${van._id}\")`
      div(class="row-sm-2", class="m-1") Item #{van.Company}(#{van.Model}) is #{van.cost}
       button.btn( class="btn-primary ml-1", onclick= destination) Update
       button.btn( class="btn-primary ml-1", onclick= destinationDetail) view Detail
       button.btn( class="btn-primary ml-1", onclick= destinationDelete) delete van
     script.
      function dispatch(path){
      window.location.href=path
      } 

      function goToCreate(){
        window.location.href="/vans/create"
      }

      function destinationDetail(path){
        window.location.href=path
      }

      function destinationDelete(path){
        window.location.href=path
      }